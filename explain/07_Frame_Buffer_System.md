# Frame_Buffer ì‹œìŠ¤í…œ - ë“€ì–¼ í¬íŠ¸ ë©”ëª¨ë¦¬

## ğŸ“‹ ê°œìš”
Frame_BufferëŠ” AI Fourcut í”„ë¡œì íŠ¸ì˜ í•µì‹¬ ë©”ëª¨ë¦¬ ì‹œìŠ¤í…œìœ¼ë¡œ, ì¹´ë©”ë¼ ì…ë ¥ê³¼ VGA ì¶œë ¥ ê°„ì˜ ì¤‘ê°„ ë²„í¼ ì—­í• ì„ í•©ë‹ˆë‹¤.

## ğŸ—ï¸ ì‹œìŠ¤í…œ êµ¬ì¡°

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   ì¹´ë©”ë¼        â”‚    â”‚   Frame_Buffer  â”‚    â”‚   VGA ì¶œë ¥      â”‚
â”‚   (Write)       â”‚â”€â”€â”€â–¶â”‚   (Dual-Port    â”‚â”€â”€â”€â–¶â”‚   (Read)        â”‚
â”‚   ov7670_pclk   â”‚    â”‚    Memory)      â”‚    â”‚   vga_pclk      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## ğŸ”§ Frame_Buffer ëª¨ë“ˆ ë¶„ì„

### **ì¸í„°í˜ì´ìŠ¤ ì •ì˜**
```systemverilog
module Frame_Buffer (
    // Write side (ì¹´ë©”ë¼ ì…ë ¥)
    input  logic        wclk,      // Write Clock
    input  logic        we,        // Write Enable
    input  logic [16:0] wAddr,     // Write Address
    input  logic [15:0] wData,     // Write Data
    
    // Read side (VGA ì¶œë ¥)
    input  logic        rclk,      // Read Clock
    input  logic        oe,        // Output Enable
    input  logic [16:0] rAddr,     // Read Address
    output logic [15:0] rData      // Read Data
);
```

### **ë©”ëª¨ë¦¬ êµ¬ì¡°**
```systemverilog
// 320Ã—240 = 76,800 í”½ì…€
logic [15:0] mem[0:(320*240-1)];

// ì£¼ì†Œ ë²”ìœ„: 0 ~ 76,799 (17ë¹„íŠ¸)
// ë°ì´í„° í­: 16ë¹„íŠ¸ (RGB565)
// ì´ ìš©ëŸ‰: 153,600 ë°”ì´íŠ¸ (150KB)
```

## âš¡ ë“€ì–¼ í¬íŠ¸ ë©”ëª¨ë¦¬ íŠ¹ì„±

### **ë…ë¦½ì ì¸ í´ëŸ­ ë„ë©”ì¸**
```systemverilog
// Write ë„ë©”ì¸ (ì¹´ë©”ë¼)
always_ff @(posedge wclk) begin
    if (we) begin
        mem[wAddr] <= wData;
    end
end

// Read ë„ë©”ì¸ (VGA)
always_ff @(posedge rclk) begin
    if (oe) begin
        rData <= mem[rAddr];
    end
end
```

### **ë™ì‹œ ì ‘ê·¼ ê°€ëŠ¥**
- **ì“°ê¸°**: ì¹´ë©”ë¼ê°€ ìƒˆë¡œìš´ í”„ë ˆì„ì„ ì €ì¥
- **ì½ê¸°**: VGAê°€ ì´ì „ í”„ë ˆì„ì„ ì¶œë ¥
- **ì¶©ëŒ ì—†ìŒ**: ì„œë¡œ ë‹¤ë¥¸ ì£¼ì†Œ ì ‘ê·¼

## ğŸ“Š ë©”ëª¨ë¦¬ ë§¤í•‘

### **ì£¼ì†Œ ê³„ì‚°**
```systemverilog
// 1ì°¨ì› ì£¼ì†Œ â†’ 2ì°¨ì› ì¢Œí‘œ
logic [8:0] x = wAddr % 320;  // 0~319
logic [7:0] y = wAddr / 320;  // 0~239

// 2ì°¨ì› ì¢Œí‘œ â†’ 1ì°¨ì› ì£¼ì†Œ
logic [16:0] addr = y * 320 + x;
```

### **ë©”ëª¨ë¦¬ ë ˆì´ì•„ì›ƒ**
```
ë©”ëª¨ë¦¬ ì£¼ì†Œ: 0x0000 ~ 0x12BFF (76,800 ë°”ì´íŠ¸)
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ 0x0000: (0,0)   (1,0)   (2,0)   ...   â”‚
â”‚ 0x0140: (0,1)   (1,1)   (2,1)   ...   â”‚
â”‚ 0x0280: (0,2)   (1,2)   (2,2)   ...   â”‚
â”‚ ...                                    â”‚
â”‚ 0x12B40: (0,239) (1,239) (2,239) ...  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## ğŸ”„ ë°ì´í„° íë¦„

### **ì¹´ë©”ë¼ â†’ ë©”ëª¨ë¦¬**
```
OV7670 â†’ OV7670_MemController â†’ Frame_Buffer (Write)
```

### **ë©”ëª¨ë¦¬ â†’ VGA**
```
Frame_Buffer (Read) â†’ VGA_MemController â†’ VGA_Decoder
```

### **ì´ë¯¸ì§€ ì²˜ë¦¬**
```
ì¹´ë©”ë¼ ë°ì´í„° â†’ Filter_Top â†’ í•„í„° ì ìš© â†’ Frame_Buffer
```

## âš¡ ì„±ëŠ¥ íŠ¹ì„±

### **ë©”ëª¨ë¦¬ ëŒ€ì—­í­**
- **ì“°ê¸° ì†ë„**: 320Ã—240Ã—30fps = 2.3M í”½ì…€/ì´ˆ
- **ì½ê¸° ì†ë„**: 640Ã—480Ã—60fps = 18.4M í”½ì…€/ì´ˆ
- **ì´ ëŒ€ì—­í­**: 20.7M í”½ì…€/ì´ˆ

### **ì§€ì—° ì‹œê°„**
- **ì“°ê¸° ì§€ì—°**: 1í´ëŸ­ (ì¹´ë©”ë¼ í´ëŸ­)
- **ì½ê¸° ì§€ì—°**: 1í´ëŸ­ (VGA í´ëŸ­)
- **ì „ì²´ ì§€ì—°**: 2í´ëŸ­ (íŒŒì´í”„ë¼ì¸)

## ğŸ”§ ìµœì í™” ê¸°ë²•

### **1. ë©”ëª¨ë¦¬ íš¨ìœ¨ì„±**
```systemverilog
// RGB565 í¬ë§· ì‚¬ìš© (16ë¹„íŠ¸)
// RGB888 ëŒ€ë¹„ 33% ë©”ëª¨ë¦¬ ì ˆì•½
// 320Ã—240Ã—2 = 153,600 ë°”ì´íŠ¸
```

### **2. íŒŒì´í”„ë¼ì¸ ì²˜ë¦¬**
```systemverilog
// ì“°ê¸°ì™€ ì½ê¸° ë™ì‹œ ì²˜ë¦¬
// í”„ë ˆì„ ì§€ì—° ìµœì†Œí™”
// ì‹¤ì‹œê°„ ì²˜ë¦¬ ê°€ëŠ¥
```

### **3. í´ëŸ­ ë„ë©”ì¸ ë¶„ë¦¬**
```systemverilog
// ì¹´ë©”ë¼ í´ëŸ­: ov7670_pclk
// VGA í´ëŸ­: vga_pclk
// ë…ë¦½ì ì¸ íƒ€ì´ë°
```

## ğŸ¯ ì„¤ê³„ ì›ë¦¬

### **1. ë²„í¼ë§**
- **ëª©ì **: ì¹´ë©”ë¼ì™€ VGA ê°„ì˜ ì†ë„ ì°¨ì´ í•´ê²°
- **ë°©ë²•**: ì¤‘ê°„ ë²„í¼ ì‚¬ìš©
- **íš¨ê³¼**: ì•ˆì •ì ì¸ ë°ì´í„° ì „ì†¡

### **2. ë“€ì–¼ í¬íŠ¸**
- **ëª©ì **: ë™ì‹œ ì½ê¸°/ì“°ê¸°
- **ë°©ë²•**: ë…ë¦½ì ì¸ í¬íŠ¸
- **íš¨ê³¼**: ë†’ì€ ì²˜ë¦¬ëŸ‰

### **3. ì‹¤ì‹œê°„ ì²˜ë¦¬**
- **ëª©ì **: ì§€ì—° ì‹œê°„ ìµœì†Œí™”
- **ë°©ë²•**: íŒŒì´í”„ë¼ì¸ êµ¬ì¡°
- **íš¨ê³¼**: ì‹¤ì‹œê°„ ì‘ë‹µ

## ğŸ” ë©”ëª¨ë¦¬ ì ‘ê·¼ íŒ¨í„´

### **ì“°ê¸° íŒ¨í„´ (ì¹´ë©”ë¼)**
```
ì£¼ì†Œ: 0 â†’ 1 â†’ 2 â†’ ... â†’ 76799
ì‹œê°„: ìˆœì°¨ì , ì—°ì†ì 
ì†ë„: 30fps
```

### **ì½ê¸° íŒ¨í„´ (VGA)**
```
ì£¼ì†Œ: 0 â†’ 1 â†’ 2 â†’ ... â†’ 76799
ì‹œê°„: ìˆœì°¨ì , ì—°ì†ì 
ì†ë„: 60fps
```

### **ë™ì‹œ ì ‘ê·¼**
```
ì“°ê¸°: í”„ë ˆì„ N ì €ì¥
ì½ê¸°: í”„ë ˆì„ N-1 ì¶œë ¥
ì¶©ëŒ: ì—†ìŒ (ì„œë¡œ ë‹¤ë¥¸ í”„ë ˆì„)
```

## ğŸ¯ í•™ìŠµ í¬ì¸íŠ¸

1. **ë“€ì–¼ í¬íŠ¸ ë©”ëª¨ë¦¬**: ë™ì‹œ ì½ê¸°/ì“°ê¸°
2. **í´ëŸ­ ë„ë©”ì¸**: ì„œë¡œ ë‹¤ë¥¸ í´ëŸ­ ê°„ ë°ì´í„° ì „ì†¡
3. **ë²„í¼ë§**: ì†ë„ ì°¨ì´ í•´ê²°
4. **ë©”ëª¨ë¦¬ ë§¤í•‘**: 2D ì¢Œí‘œ â†’ 1D ì£¼ì†Œ
5. **ì‹¤ì‹œê°„ ì²˜ë¦¬**: íŒŒì´í”„ë¼ì¸ êµ¬ì¡°

## ğŸ”§ êµ¬í˜„ ë„ì „ê³¼ì œ

### **1. ë©”ëª¨ë¦¬ í¬ê¸°**
- **ì œì•½**: FPGA ë‚´ë¶€ ë©”ëª¨ë¦¬ í•œê³„
- **í•´ê²°**: RGB565 í¬ë§· ì‚¬ìš©
- **ìµœì í™”**: ì••ì¶• ê¸°ë²• ì ìš©

### **2. í´ëŸ­ ë„ë©”ì¸**
- **ì œì•½**: ì„œë¡œ ë‹¤ë¥¸ í´ëŸ­ ë„ë©”ì¸
- **í•´ê²°**: ë“€ì–¼ í¬íŠ¸ ë©”ëª¨ë¦¬
- **ìµœì í™”**: í´ëŸ­ ë„ë©”ì¸ ë¶„ë¦¬

### **3. ì‹¤ì‹œê°„ ì²˜ë¦¬**
- **ì œì•½**: ì§€ì—° ì‹œê°„ ìµœì†Œí™”
- **í•´ê²°**: íŒŒì´í”„ë¼ì¸ êµ¬ì¡°
- **ìµœì í™”**: ë³‘ë ¬ ì²˜ë¦¬

## ğŸ“ ë‹¤ìŒ ë‹¨ê³„
- `08_Memory_Controllers.md`: ë©”ëª¨ë¦¬ ì»¨íŠ¸ë¡¤ëŸ¬ ë¶„ì„
- `09_SCCB_Protocol.md`: ì¹´ë©”ë¼ í†µì‹  í”„ë¡œí† ì½œ
- `10_UART_Communication.md`: UART í†µì‹  ì‹œìŠ¤í…œ
